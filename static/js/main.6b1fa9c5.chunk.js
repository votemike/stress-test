(this["webpackJsonpstress-test"]=this["webpackJsonpstress-test"]||[]).push([[0],{15:function(e,t,a){e.exports=a(22)},20:function(e,t,a){},21:function(e,t,a){},22:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(13),s=a.n(o),l=(a(20),a(14)),i=a(11),c=a(8),p=(a(21),a(1)),m=a(2),u=a(4),h=a(3),d=a(5),f=function(e){return e.teaserRate?v(e,e.teaserRate):g(e)},y=function(e){return+(e.income-f(e)).toFixed(2)},g=function(e){return v(e,e.baseRate)},v=function(e,t){var a=t/12/100;if(e.interestOnly)return+(e.mortgage*a).toFixed(2);var r=Math.pow(a+1,e.monthsLeft);return+(e.mortgage*(a*r/(r-1))).toFixed(2)},b=function(e,t){return+(e.income-v(e,t)).toFixed(2)},E=new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}),N=function(e){return E.format(e)},w=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={collapsed:!0},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"collapsable"},n.a.createElement("h2",{className:"collapsable-toggle title is-3",onClick:function(){return e.setState((function(e){return{collapsed:!e.collapsed}}))}},this.props.heading),n.a.createElement("div",{className:"collapsable-key-info collapsable-toggle",onClick:function(){return e.setState((function(e){return{collapsed:!e.collapsed}}))}},this.renderKeyInfoItems()),this.renderBlurb())}},{key:"renderBlurb",value:function(){if(!this.state.collapsed)return this.props.children}},{key:"renderKeyInfoItems",value:function(){var e=this;return Object.entries(this.props.keyInfoItems).map((function(t){var a=Object(c.a)(t,2),r=a[0],o=a[1];return n.a.createElement("div",{key:"".concat(e.props.heading,"-").concat(r)},n.a.createElement("span",{className:"collapsable-key-info-label"},r,":")," ",o)}))}}]),t}(n.a.Component),k=function(e){function t(){return Object(p.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"renderBlurb",value:function(){var e=["The mortgage for ".concat(this.props.property.name," currently costs around ").concat(N(f(this.props.property))," each month.")],t=["After mortgage repayments, your current income from the property is around ".concat(N(y(this.props.property))," each month.")];this.props.property.teaserRate&&(e.push("When the teaser rate expires, it is expected that this will rise to ".concat(N(g(this.props.property)),", ").concat(N(g(this.props.property)-f(this.props.property))," more than your current repayments.")),t.push("When the teaser rate expires that will be nearer to ".concat(N(b(this.props.property,this.props.property.baseRate)),".")));var a=n.a.createElement("p",{className:"summary-line"},e.join(" "),n.a.createElement("br",null),t.join(" "));if(this.props.property.baseRate>=15)return a;var r=null;this.props.property.baseRate<10&&(r=n.a.createElement(n.a.Fragment,null,n.a.createElement("span",null,"If interest rates were to rise to 10% (",n.a.createElement("a",{href:"https://www.purecommercialfinance.co.uk/news/a-brief-history-of-average-mortgage-interest-rates/",target:"_blank",rel:"noopener noreferrer"},"similar to rates around 1995"),"), then the mortgage would cost ",N(v(this.props.property,10))," each month, ",N(v(this.props.property,10)-f(this.props.property))," more that your current repayments. If rates were this high, your monthly income will be nearer to ",N(b(this.props.property,10)),"."),n.a.createElement("br",null)));var o=n.a.createElement("span",null,"If interest rates were to rise to 15% (",n.a.createElement("a",{href:"https://www.purecommercialfinance.co.uk/news/a-brief-history-of-average-mortgage-interest-rates/",target:"_blank",rel:"noopener noreferrer"},"similar to rates around 1980"),"), then the mortgage would cost ",N(v(this.props.property,15))," each month, ",N(v(this.props.property,15)-f(this.props.property))," more that your current repayments. If rates were this high, your monthly income will be nearer to ",N(b(this.props.property,15)),"."),s=n.a.createElement("p",{className:"summary-line"},r,o);return n.a.createElement(n.a.Fragment,null,a,s)}},{key:"renderDeleteButton",value:function(){var e=this;return n.a.createElement("button",{className:"remove-property",onClick:function(){return e.props.removePropertyHandler(e.props.index)}},"Remove Property")}},{key:"render",value:function(){var e=N(f(this.props.property)),t=N(y(this.props.property));this.props.property.teaserRate&&(e="".concat(e," (").concat(N(g(this.props.property)),")"),t="".concat(t," (").concat(N(b(this.props.property,this.props.property.baseRate)),")"));var a={"Mortgage Cost":"".concat(e," per month"),"Pre-Mortgage Profit":"".concat(N(this.props.property.income)," per month"),"Post-Mortgage Profit":"".concat(t," per month")};return n.a.createElement(w,{heading:this.props.property.name,keyInfoItems:a},this.renderBlurb(),this.renderDeleteButton())}}]),t}(n.a.Component),I=function(e){var t=e.properties,a=e.removePropertyHandler;return n.a.createElement("div",null,t.map((function(e,t){return n.a.createElement(k,{key:e.name,index:t,property:e,removePropertyHandler:a})})))},P=function(e){function t(){return Object(p.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"getPropertyCurrentTotal",value:function(){var e=0;return this.props.properties.forEach((function(t){e+=f(t)})),e}},{key:"getPropertyFullTotal",value:function(){var e=0;return this.props.properties.forEach((function(t){e+=g(t)})),e}},{key:"getPropertyTotal",value:function(e){var t=0;return this.props.properties.forEach((function(a){t+=v(a,e)})),t}},{key:"getNetIncomeTotal",value:function(e){var t=0;return this.props.properties.forEach((function(a){t+=b(a,e)})),t}},{key:"getPropertyCurrentIncome",value:function(){var e=0;return this.props.properties.forEach((function(t){e+=y(t)})),e}},{key:"getPropertyProperIncome",value:function(){var e=0;return this.props.properties.forEach((function(t){e+=b(t,t.baseRate)})),e}},{key:"getTotalMortgageDebt",value:function(){var e=0;return this.props.properties.forEach((function(t){e+=parseFloat(t.mortgage)})),e}},{key:"renderBlurb",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("p",null,"Your current monthly payments are around ",N(this.getPropertyCurrentTotal()),". This will increase to around ",N(this.getPropertyFullTotal())," (",n.a.createElement("span",{className:"text-warning"},"+",N(this.getPropertyFullTotal()-this.getPropertyCurrentTotal())),") once any/all teaser rates have expired.",n.a.createElement("br",null),"Your monthly net income is around ",N(this.getPropertyCurrentIncome()),". This will change by ",N(this.getPropertyProperIncome()-this.getPropertyCurrentIncome())," to around ",N(this.getPropertyProperIncome())," once any/all teaser rates have expired."),n.a.createElement("p",null,n.a.createElement("span",null,"If interest rates were to rise to 10%: (",n.a.createElement("a",{href:"https://www.purecommercialfinance.co.uk/news/a-brief-history-of-average-mortgage-interest-rates/",target:"_blank",rel:"noopener noreferrer"},"similar to rates around 1995"),"), then the mortgages would total ",N(this.getPropertyTotal(10))," each month, ",N(this.getPropertyTotal(10)-this.getPropertyCurrentTotal())," more that your current repayments. If rates were this high, your monthly income will be nearer to ",N(this.getNetIncomeTotal(10)),"."),n.a.createElement("br",null),n.a.createElement("span",null,"If interest rates were to rise to 15%: (",n.a.createElement("a",{href:"https://www.purecommercialfinance.co.uk/news/a-brief-history-of-average-mortgage-interest-rates/",target:"_blank",rel:"noopener noreferrer"},"similar to rates around 1980"),"), then the mortgages would total ",N(this.getPropertyTotal(15))," each month, ",N(this.getPropertyTotal(15)-this.getPropertyCurrentTotal())," more that your current repayments. If rates were this high, your monthly income will be nearer to ",N(this.getNetIncomeTotal(15)),".")))}},{key:"render",value:function(){if(this.props.properties.length<1)return null;var e=N(this.getPropertyProperIncome()),t=N(this.getPropertyCurrentIncome());t!==e&&(t="".concat(t," (").concat(e,")"));var a={"Total Mortgage Debt":N(this.getTotalMortgageDebt()),"Mortgage Costs":"".concat(N(this.getPropertyCurrentTotal())," per month"),"Post-Mortgage Profit":"".concat(t," per month")};return n.a.createElement(w,{heading:"Summary",keyInfoItems:a},this.renderBlurb())}}]),t}(n.a.Component),C=a(9),O=a(7),j=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state=a.getInitialFormState(),a.handleInputChange=a.handleInputChange.bind(Object(O.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(O.a)(a)),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"getInitialFormState",value:function(){return{name:"",interestOnly:!1,mortgage:"",baseRate:"",monthsLeft:"",teaserRate:"",income:""}}},{key:"handleInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;this.setState(Object(C.a)({},r,a))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.addPropertyHandler(this.state),this.setState(this.getInitialFormState())}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",{className:"title is-3"},"Add a Property"),n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("div",{className:"field is-horizontal"},n.a.createElement("div",{className:"field-label is-normal"},n.a.createElement("label",{className:"label"},"Property Name")),n.a.createElement("div",{className:"field-body"},n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"control"},n.a.createElement("input",{className:"input",name:"name",value:this.state.name,onChange:this.handleInputChange,placeholder:"10 Downing Street",required:!0})),n.a.createElement("p",{className:"help"},"Give this property a label")))),n.a.createElement("div",{className:"field is-horizontal"},n.a.createElement("div",{className:"field-label is-normal"},n.a.createElement("label",{className:"label"},"Mortgage amount")),n.a.createElement("div",{className:"field-body"},n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"control"},n.a.createElement("input",{className:"input",name:"mortgage",value:this.state.mortgage,onChange:this.handleInputChange,type:"number",placeholder:"300000",step:"any",min:"0",required:!0})),n.a.createElement("p",{className:"help"},"The outstanding amount of the loan")),n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"control"},n.a.createElement("label",{className:"checkbox"},n.a.createElement("input",{name:"interestOnly",checked:this.state.interestOnly,onChange:this.handleInputChange,type:"checkbox"})," Interest only"))),n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"control"},n.a.createElement("input",{className:"input",name:"monthsLeft",value:this.state.monthsLeft,onChange:this.handleInputChange,type:"number",placeholder:"300",step:"1",min:"0",disabled:this.state.interestOnly,required:!this.state.interestOnly})),n.a.createElement("p",{className:"help"},"Months left on the mortgage")))),n.a.createElement("div",{className:"field is-horizontal"},n.a.createElement("div",{className:"field-label is-normal"},n.a.createElement("label",{className:"label"},"Rate")),n.a.createElement("div",{className:"field-body"},n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"control"},n.a.createElement("input",{className:"input",name:"baseRate",value:this.state.baseRate,onChange:this.handleInputChange,type:"number",placeholder:"4.95",step:"any",required:!0})),n.a.createElement("p",{className:"help"},"The interest rate of the loan (ignoring any teaser rate)")),n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"control"},n.a.createElement("input",{className:"input",name:"teaserRate",value:this.state.teaserRate,onChange:this.handleInputChange,type:"number",placeholder:"2.19",step:"any"})),n.a.createElement("p",{className:"help"},"Any introductory/teaser rate the loan may have")))),n.a.createElement("div",{className:"field is-horizontal"},n.a.createElement("div",{className:"field-label is-normal"},n.a.createElement("label",{className:"label"},"Income")),n.a.createElement("div",{className:"field-body"},n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"control"},n.a.createElement("input",{className:"input",name:"income",value:this.state.income,onChange:this.handleInputChange,type:"number",step:"any",placeholder:"810",id:"income",required:!0})),n.a.createElement("p",{className:"help"},"Monthly Net Income after fees, maintenance and taxes but before mortgage payments")))),n.a.createElement("div",{className:"field is-horizontal"},n.a.createElement("div",{className:"field-label"}),n.a.createElement("div",{className:"field-body"},n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"control"},n.a.createElement("button",{type:"submit",className:"button is-primary"},"Add Property")))))))}}]),t}(n.a.Component);var T=function(){var e=function(e,t){var a=n.a.useState(JSON.parse(localStorage.getItem(e))||t),r=Object(c.a)(a,2),o=r[0],s=r[1];return n.a.useEffect((function(){localStorage.setItem(e,JSON.stringify(o))}),[o,e]),[o,s]}("properties",[]),t=Object(c.a)(e,2),a=t[0],r=t[1];return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"stress-test"},n.a.createElement("header",null,n.a.createElement("h1",{className:"title is-1"},"Mortgage Stress Test"),n.a.createElement("p",null,"What would happen if interest and mortgage rates went up?",n.a.createElement("br",null),"What if you couldn't remortgage once your introductory rate ran out?"),n.a.createElement("p",null,"This stress test is provided as a rough guide only. You should not base any decisions solely on it.")),n.a.createElement(I,{properties:a,removePropertyHandler:function(e){var t=Object(i.a)(a);t.splice(e,1),r(t)}}),n.a.createElement(P,{properties:a}),n.a.createElement(j,{addPropertyHandler:function(e){r([].concat(Object(i.a)(a),[Object(l.a)({},e)]))}})),n.a.createElement("footer",{className:"footer"},n.a.createElement("div",{className:"content has-text-centered"},n.a.createElement("p",null,"Created by ",n.a.createElement("a",{href:"https://votemike.co.uk"},"Michael Gwynne")),n.a.createElement("p",null,"You may also like ",n.a.createElement("a",{href:"https://votemike.github.io/amortisation-calculator/"},"Amortisation Calculator")))))},S=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function R(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}s.a.render(n.a.createElement(T,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/stress-test",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/stress-test","/service-worker.js");S?(!function(e,t){fetch(e).then((function(a){var r=a.headers.get("content-type");404===a.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):R(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):R(t,e)}))}}()}},[[15,1,2]]]);
//# sourceMappingURL=main.6b1fa9c5.chunk.js.map